# üîí RssBot Platform Configuration Template
# Copy this file to .env and update with your actual values
# NEVER commit .env file to version control!

# === Core Platform Configuration ===
ENVIRONMENT=development
LOG_LEVEL=INFO
DEBUG=false

# === üóÑÔ∏è Database Configuration ===
# Development (SQLite - easier setup)
DATABASE_URL=sqlite:///./rssbot.db

# Production (PostgreSQL - recommended)
# DATABASE_URL=postgresql://rssbot:SECURE_PASSWORD_HERE@localhost:5432/rssbot

# Database tuning
DB_ECHO=false
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_RECYCLE=3600

# === üî¥ Redis Configuration (REQUIRED for performance) ===
# Development
REDIS_URL=redis://localhost:6379/0

# Production with AUTH (recommended)
# REDIS_URL=redis://:SECURE_REDIS_PASSWORD@localhost:6379/0

# Redis tuning
REDIS_DECODE_RESPONSES=true
REDIS_HEALTH_CHECK_INTERVAL=30
REDIS_MAX_CONNECTIONS=100

# === üîê Security Configuration (CRITICAL) ===
# Service authentication token (CHANGE IN PRODUCTION!)
# Generate with: openssl rand -hex 32
SERVICE_TOKEN=dev_service_token_CHANGE_THIS_IN_PRODUCTION_12345678

# === ü§ñ Telegram Bot Configuration (REQUIRED) ===
# Get bot token from @BotFather: https://t.me/botfather
TELEGRAM_BOT_TOKEN=1234567890:YOUR_REAL_BOT_TOKEN_FROM_BOTFATHER

# Webhook configuration (production)
TELEGRAM_WEBHOOK_URL=https://yourdomain.com/webhook
TELEGRAM_WEBHOOK_SECRET=SECURE_WEBHOOK_SECRET_64_CHARS_MIN
TELEGRAM_WEBHOOK_MODE=false

# Telegram payments (optional)
TELEGRAM_PAYMENTS_PROVIDER_TOKEN=your_telegram_payments_token

# === üß† AI Service Configuration ===
# OpenAI API key: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your_openai_api_key_here

# AI model configuration
AI_MODEL=gpt-3.5-turbo
AI_MAX_TOKENS=2000
AI_TEMPERATURE=0.7

# === üí≥ Payment Configuration ===
# Stripe keys: https://dashboard.stripe.com/apikeys
# Test keys (development)
STRIPE_SECRET_KEY=sk_test_your_stripe_test_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_test_publishable_key

# Webhook secret: https://dashboard.stripe.com/webhooks
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_from_stripe

# Production keys (uncomment for production)
# STRIPE_SECRET_KEY=sk_live_your_stripe_live_secret_key
# STRIPE_PUBLISHABLE_KEY=pk_live_your_stripe_live_publishable_key

# === üåê Service Ports (Development) ===
# Main platform
CONTROLLER_SERVICE_PORT=8004

# Individual services (REST mode only)
DB_SERVICE_PORT=8001
BOT_SERVICE_PORT=8002
PAYMENT_SERVICE_PORT=8003
AI_SERVICE_PORT=8005
FORMATTING_SERVICE_PORT=8006
CHANNEL_MGR_SERVICE_PORT=8007
USER_SERVICE_PORT=8008
MINIAPP_SERVICE_PORT=8009
ADMIN_SERVICE_PORT=8010

# === üèóÔ∏è New Architecture Configuration ===
# Legacy global mode (DEPRECATED - for migration only)
# Use per-service configuration via Admin API instead
LOCAL_ROUTER_MODE=false

# Service URLs (REST mode - auto-configured)
FORMATTING_SERVICE_URL=http://localhost:8006
BOT_SERVICE_URL=http://localhost:8002
USER_SERVICE_URL=http://localhost:8008
CHANNEL_MGR_SERVICE_URL=http://localhost:8007
PAYMENT_SERVICE_URL=http://localhost:8003

# === ‚ö° Performance Configuration ===
# Cache settings
CACHE_TTL=300
HEALTH_CHECK_INTERVAL=60
MAX_CONCURRENT_REQUESTS=1000

# === üìä Monitoring Configuration ===
# Metrics and monitoring
ENABLE_METRICS=true
METRICS_PORT=9090
PROMETHEUS_ENDPOINT=/metrics

# Logging
LOG_FORMAT=json
LOG_FILE=logs/rssbot.log
LOG_ROTATION=daily
LOG_RETENTION_DAYS=30

# === üîí Security Headers ===
# Web security
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_ALLOW_CREDENTIALS=true

# === üìß Notification Configuration (Optional) ===
# Email notifications (optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=noreply@yourdomain.com

# === üö® Production-Only Configuration ===
# Uncomment and configure for production deployment

# SSL/TLS
# SSL_CERT_PATH=/path/to/cert.pem
# SSL_KEY_PATH=/path/to/key.pem

# External services
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
# HONEYBADGER_API_KEY=your-honeybadger-api-key

# Backup configuration
# BACKUP_S3_BUCKET=your-backup-bucket
# BACKUP_S3_ACCESS_KEY=your-s3-access-key
# BACKUP_S3_SECRET_KEY=your-s3-secret-key

# === üîê Security Reminders ===
# üö® IMPORTANT SECURITY NOTES:
# 1. NEVER commit .env file to version control
# 2. Use strong, unique passwords (64+ characters)
# 3. Generate SERVICE_TOKEN with: openssl rand -hex 32
# 4. Use different credentials for development/staging/production
# 5. Enable Redis AUTH in production
# 6. Use HTTPS in production (SSL certificates)
# 7. Regularly rotate secrets and tokens
# 8. Monitor access logs for suspicious activity

# === üìö Documentation ===
# For more information:
# - Getting Started: docs/GETTING_STARTED.md
# - Architecture: docs/ARCHITECTURE.md  
# - Security: SECURITY.md
# - Production: docs/PRODUCTION.md